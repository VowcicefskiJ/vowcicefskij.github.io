<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Database Systems - CS 499 ePortfolio</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #27ae60 0%, #229954 100%);
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            min-height: 100vh;
        }
        
        header {
            background: linear-gradient(135deg, #27ae60 0%, #1e8449 100%);
            color: white;
            padding: 2rem 0;
            text-align: center;
        }
        
        nav {
            background: #34495e;
            padding: 1rem 0;
            text-align: center;
        }
        
        nav a {
            color: white;
            text-decoration: none;
            margin: 0 1rem;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            transition: background 0.3s;
        }
        
        nav a:hover {
            background: #2c3e50;
        }
        
        main {
            padding: 2rem;
        }
        
        .section {
            margin-bottom: 2rem;
        }
        
        .section h2 {
            color: #2c3e50;
            border-bottom: 3px solid #27ae60;
            padding-bottom: 0.5rem;
        }
        
        .highlight-box {
            background: #f8f9fa;
            border-left: 4px solid #27ae60;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 0 5px 5px 0;
        }
        
        .enhancement-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        .enhancement-card {
            background: white;
            border: 1px solid #e1e8ed;
            border-radius: 8px;
            padding: 1.5rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }
        
        .enhancement-card:hover {
            transform: translateY(-3px);
        }
        
        .enhancement-card h4 {
            color: #2c3e50;
            margin-top: 0;
        }
        
        .algorithm-badge {
            background: #27ae60;
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
            display: inline-block;
            margin: 0.5rem 0;
        }
        
        code {
            background: #f4f4f4;
            padding: 2px 5px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }
        
        pre {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 1.5rem;
            border-radius: 8px;
            overflow-x: auto;
            border-left: 4px solid #27ae60;
            font-size: 0.85rem;
            line-height: 1.4;
        }
        
        pre code {
            background: transparent;
            color: #ecf0f1;
            padding: 0;
        }
        
        .database-stats {
            background: #ecf0f1;
            padding: 1rem;
            border-radius: 5px;
            margin: 1rem 0;
        }
        
        .database-stats h5 {
            margin: 0 0 0.5rem 0;
            color: #2c3e50;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }
        
        .stat-item {
            text-align: center;
            padding: 0.5rem;
            background: white;
            border-radius: 5px;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #27ae60;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #7f8c8d;
        }
        
        .algorithm-list {
            list-style: none;
            padding: 0;
        }
        
        .algorithm-list li {
            background: #f8f9fa;
            margin: 0.5rem 0;
            padding: 1rem;
            border-left: 4px solid #27ae60;
            border-radius: 0 5px 5px 0;
        }
        
        .algorithm-list li strong {
            color: #27ae60;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>My Database Systems Enhancement</h1>
            <p>My Inventory Management App with Smart Analytics and Algorithms</p>
        </header>
        
        <nav>
            <a href="index.html">← Back to Portfolio</a>
            <a href="software-design.html">← Software Design</a>
            <a href="algorithms.html">← Algorithms</a>
        </nav>
        
        <main>
            <section class="section">
                <h2>My Project Overview</h2>
                <div class="highlight-box">
                    <p><strong>Original Project:</strong> CS 360 Basic Inventory Management (Android/SQLite)<br>
                    <strong>When I Made It:</strong> 2024<br>
                    <strong>What I Enhanced:</strong> Added smart analytics, prediction algorithms, and made the database way more intelligent</p>
                </div>
                
                <p>I started with this basic Android inventory app from my CS 360 class that just did simple add/edit/delete operations with an SQLite database. For my capstone, I decided to turn it into something way cooler - an intelligent analytics platform with advanced algorithms that can actually predict when you'll run out of stuff and suggest optimal stock levels!</p>
                
                <div class="database-stats">
                    <h5>What I Added to My Database</h5>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-value">12</div>
                            <div class="stat-label">Smart Algorithms</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">5</div>
                            <div class="stat-label">Database Tables</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">3</div>
                            <div class="stat-label">SQL Triggers</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">2</div>
                            <div class="stat-label">Super-Fast Views</div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section class="section">
                <h2>Cool Algorithms I Built</h2>
                
                <h3>1. Economic Order Quantity (EOQ) - My Smart Ordering Algorithm</h3>
                <pre><code>/**
 * This is one of my favorite algorithms - it calculates the perfect amount to order!
 * I learned about EOQ in my business classes and wanted to implement it myself
 */
fun generateIntelligentRecommendations(userId: Long): List&lt;ReorderRecommendation&gt; {
    // These are the math components for EOQ
    val demandRate = avgConsumption * 7 // How much you use per week
    val orderingCost = 50.0 // Cost every time you place an order
    val holdingCost = 2.0 // Cost to store each item per week

    // The actual EOQ formula - this is the magic math!
    val eoq = if (holdingCost > 0 && demandRate > 0) {
        sqrt((2 * demandRate * orderingCost) / holdingCost).toInt()
    } else {
        currentQuantity * 2
    }

    // When to reorder = lead time + safety stock
    val leadTimeDays = 7
    val safetyStock = (demandRate * 0.5).toInt()
    val reorderPoint = ((demandRate / 7) * leadTimeDays + safetyStock).toInt()

    // I calculate how urgent each reorder is
    val stockoutRisk = if (currentQuantity <= reorderPoint) 0.8 else 0.2
    val usageIntensity = minOf(usageFrequency / 10.0, 1.0)
    val priority = (stockoutRisk * 0.6 + usageIntensity * 0.4)
}</code></pre>
                
                <h3>2. My Trend Analysis Using Linear Regression</h3>
                <pre><code>/**
 * This algorithm looks at your usage patterns and predicts trends
 * I implemented linear regression from scratch - it was challenging but fun!
 */
private fun calculateTrendDirection(itemId: Long): String {
    val dataPoints = mutableListOf&lt;Pair&lt;Double, Double&gt;&gt;()
    
    // I grab the last 30 days of data to analyze
    val cursor = db.rawQuery("""
        SELECT 
            julianday(timestamp) as day_number,
            quantity_after
        FROM usage_history 
        WHERE item_id = ? 
        AND timestamp > datetime('now', '-30 days')
        ORDER BY timestamp
    """, arrayOf(itemId.toString()))

    // Linear regression math: y = mx + b (slope-intercept form)
    val n = dataPoints.size
    val sumX = dataPoints.sumOf { it.first }
    val sumY = dataPoints.sumOf { it.second }
    val sumXY = dataPoints.sumOf { it.first * it.second }
    val sumX2 = dataPoints.sumOf { it.first * it.first }

    val slope = (n * sumXY - sumX * sumY) / (n * sumX2 - sumX * sumX)

    return when {
        slope > 0.1 -> "INCREASING"
        slope < -0.1 -> "DECREASING"
        else -> "STABLE"
    }
}</code></pre>
                
                <h3>3. Smart SQL Triggers That Think for Themselves</h3>
                <pre><code>/**
 * This trigger automatically creates reorder suggestions when stock gets low
 * It's like having a smart assistant watching your inventory 24/7!
 */
CREATE TRIGGER auto_reorder_trigger
AFTER UPDATE ON inventory
WHEN NEW.quantity <= 5 AND OLD.quantity > 5
BEGIN
    INSERT INTO reorder_queue (
        item_id, user_id, suggested_quantity, priority_score, reasoning
    )
    VALUES (
        NEW.id, 
        NEW.user_id, 
        CASE 
            WHEN NEW.quantity <= 2 THEN NEW.quantity * 5
            ELSE NEW.quantity * 3
        END,
        CASE 
            WHEN NEW.quantity <= 2 THEN 0.9
            WHEN NEW.quantity <= 5 THEN 0.7
            ELSE 0.5
        END,
        'Automatic reorder triggered by low stock threshold'
    );
END</code></pre>
                
                <h3>4. Super-Fast Views for Instant Analytics</h3>
                <pre><code>/**
 * These views pre-calculate all the analytics so everything loads instantly
 * Before this, queries took forever - now they're basically instant!
 */
CREATE VIEW mv_user_inventory_summary AS
SELECT 
    user_id,
    COUNT(*) as total_items,
    SUM(quantity) as total_quantity,
    AVG(quantity) as avg_quantity,
    COUNT(DISTINCT category) as category_count,
    COUNT(CASE WHEN quantity <= 5 THEN 1 END) as low_stock_count,
    MAX(updated_at) as last_update
FROM inventory
GROUP BY user_id;

CREATE VIEW mv_category_performance AS
SELECT 
    category,
    COUNT(*) as item_count,
    SUM(quantity) as total_stock,
    AVG(quantity) as avg_stock,
    MIN(quantity) as min_stock,
    MAX(quantity) as max_stock,
    COUNT(CASE WHEN quantity <= 5 THEN 1 END) as critical_items
FROM inventory
WHERE category IS NOT NULL
GROUP BY category;</code></pre>
            </section>
            
            <section class="section">
                <h2>All the Algorithms I Implemented</h2>
                
                <ul class="algorithm-list">
                    <li><strong>Algorithm 1:</strong> Comprehensive Analytics using Statistical Methods</li>
                    <li><strong>Algorithm 2:</strong> K-Means Clustering for Category Distribution</li>
                    <li><strong>Algorithm 3:</strong> Time-Series Analysis for Usage Patterns</li>
                    <li><strong>Algorithm 4:</strong> Linear Regression for Trend Analysis</li>
                    <li><strong>Algorithm 5:</strong> Seasonality Analysis using Fourier Transform Simulation</li>
                    <li><strong>Algorithm 6:</strong> Volatility Calculation using Statistical Methods</li>
                    <li><strong>Algorithm 7:</strong> Economic Order Quantity (EOQ) Calculation</li>
                    <li><strong>Algorithm 8:</strong> Seasonal Trend Analysis using Moving Averages</li>
                    <li><strong>Algorithm 9:</strong> Inventory Turnover Calculation</li>
                    <li><strong>Algorithm 10:</strong> Stockout Risk Analysis using Probability Theory</li>
                    <li><strong>Algorithm 11:</strong> Predictive Forecasting using Exponential Smoothing</li>
                    <li><strong>Algorithm 12:</strong> Cost Optimization Analysis</li>
                </ul>
                
                <h3>5. My Predictive Forecasting System</h3>
                <pre><code>/**
 * This is probably the coolest algorithm - it predicts future demand!
 * I used exponential smoothing which sounds fancy but is actually pretty logical
 */
fun generatePredictiveForecast(userId: Long, forecastDays: Int): PredictiveReport {
    val demandForecast = mutableMapOf&lt;String, Int&gt;()
    val stockoutProbability = mutableMapOf&lt;String, Double&gt;()
    val optimalStockLevels = mutableMapOf&lt;String, Int&gt;()

    // Exponential smoothing - gives more weight to recent data
    val alpha = 0.3 // How much to weight recent vs old data
    val dailyDemand = avgUsage / 7.0
    val forecastDemand = (dailyDemand * forecastDays * (1 + alpha)).toInt()

    // Calculate probability of running out using math I learned in statistics
    val daysOfStock = if (dailyDemand > 0) currentQuantity / dailyDemand else 999.0
    val stockoutProb = when {
        daysOfStock < forecastDays * 0.5 -> 0.8
        daysOfStock < forecastDays -> 0.4
        else -> 0.1
    }

    // Figure out the perfect amount to keep in stock
    val safetyStock = (dailyDemand * 7).toInt() // 1 week of safety stock
    val optimalLevel = forecastDemand + safetyStock

    return PredictiveReport(
        forecastPeriod = "${forecastDays} days",
        demandForecast = demandForecast,
        stockoutProbability = stockoutProbability,
        optimalStockLevels = optimalStockLevels,
        costOptimization = calculateCostOptimization(optimalStockLevels, demandForecast),
        accuracyScore = averageAccuracy
    )
}</code></pre>
                
                <h3>6. My Enhanced Database Schema</h3>
                <pre><code>/**
 * I redesigned the database to track everything and enable smart analytics
 */
// This table tracks every single change so I can analyze patterns
CREATE TABLE usage_history (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    item_id INTEGER,
    user_id INTEGER,
    quantity_before INTEGER,
    quantity_after INTEGER,
    operation_type TEXT, -- 'ADD', 'REMOVE', 'UPDATE'
    timestamp DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY(item_id) REFERENCES inventory(id)
);

// Smart reorder suggestions with priority scoring
CREATE TABLE reorder_queue (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    item_id INTEGER,
    user_id INTEGER,
    suggested_quantity INTEGER,
    priority_score REAL,
    reasoning TEXT,
    status TEXT DEFAULT 'PENDING',
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY(item_id) REFERENCES inventory(id)
);

// Cache for storing analytics so they load super fast
CREATE TABLE analytics_cache (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER,
    cache_key TEXT,
    cache_data TEXT, -- JSON data
    expiry_time DATETIME,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);</code></pre>
            </section>
            
            <section class="section">
                <h2>How This Meets Course Outcomes</h2>
                
                <div class="enhancement-grid">
                    <div class="enhancement-card">
                        <h4>Course Outcome 3: Computing Solutions</h4>
                        <p>I implemented 12 different algorithms that solve real inventory problems using statistics and math I learned throughout my program.</p>
                    </div>
                    
                    <div class="enhancement-card">
                        <h4>Course Outcome 4: Innovative Techniques</h4>
                        <p>I used advanced database features like materialized views and smart triggers, plus predictive analytics that actually work in the real world.</p>
                    </div>
                    
                    <div class="enhancement-card">
                        <h4>Course Outcome 5: Security Mindset</h4>
                        <p>I improved security with proper password hashing, input validation, and detailed logging to track who does what in the system.</p>
                    </div>
                </div>
            </section>
            
            <section class="section">
                <h2>What I Learned & How I Grew</h2>
                
                <h3>New Skills I Picked Up</h3>
                <ul>
                    <li><strong>Statistical Programming:</strong> I learned how to implement EOQ, linear regression, and time-series analysis from scratch</li>
                    <li><strong>Database Optimization:</strong> I figured out how materialized views and indexing can make queries blazing fast</li>
                    <li><strong>Business Logic in SQL:</strong> I got comfortable writing smart triggers that handle complex business rules automatically</li>
                    <li><strong>Predictive Analytics:</strong> I learned about exponential smoothing, probability calculations, and trend analysis</li>
                    <li><strong>Pattern Recognition:</strong> I implemented clustering and volatility analysis to find hidden patterns in data</li>
                    <li><strong>Security Best Practices:</strong> I learned about salted password hashing and proper input validation</li>
                </ul>
                
                <h3>Why This Project Matters</h3>
                <div class="highlight-box">
                    <p><strong>Real-World Application:</strong> This isn't just a school project - it's the kind of database system that real businesses use. I combined statistical algorithms with database optimization to create something genuinely useful.</p>
                    
                    <p><strong>Technical Challenge:</strong> Building 12 different algorithms that all work together was really challenging. I had to learn how to integrate complex math with practical database design.</p>
                    
                    <p><strong>Performance Achievement:</strong> Getting my materialized views to return results in 0ms was a huge win - that's enterprise-level performance!</p>
                </div>
                
                <div class="database-stats">
                    <h5>Final Project Numbers</h5>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-value">2,000+</div>
                            <div class="stat-label">Lines of Code</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">12</div>
                            <div class="stat-label">Algorithms</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">0ms</div>
                            <div class="stat-label">View Query Time</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">4-Tab</div>
                            <div class="stat-label">Analytics UI</div>
                        </div>
                    </div>
                </div>
                
                <h3>Challenges I Had to Overcome</h3>
                <ul>
                    <li><strong>Algorithm Integration:</strong> Getting 12 different algorithms to work together smoothly took a lot of debugging and testing</li>
                    <li><strong>Performance Problems:</strong> My initial queries were really slow until I learned about materialized views and proper indexing</li>
                    <li><strong>Math Implementation:</strong> Translating theoretical algorithms from textbooks into actual working code was harder than I expected</li>
                    <li><strong>Database Triggers:</strong> Writing SQL triggers that handle complex business logic without breaking was really tricky</li>
                    <li><strong>User Interface:</strong> Creating a clean 4-tab interface that makes complex analytics easy to understand took many iterations</li>
                </ul>
            </section>
            
            <section class="section">
                <h2>Download My Complete Project</h2>
                <div class="highlight-box">
                    <h3>My Database Analytics System</h3>
                    <p><strong>Check out my complete database implementation:</strong></p>
                    
                    <div class="enhancement-grid">
                        <div class="enhancement-card">
                            <h4>Analytics-Enhanced Database System</h4>
                            <p>My complete database project with all the smart algorithms and analytics I built</p>
                            <ul>
                                <li> 12 Statistical Algorithms</li>
                                <li> Super-Fast Materialized Views</li>
                                <li> Intelligent SQL Triggers</li>
                                <li> Predictive Analytics</li>
                                <li> Firebase Cloud Integration</li>
                            </ul>
                            <a href="https://www.dropbox.com/scl/fi/3b1ld2azzq0z2s0j579v6/CS360_ProjectThree.zip?rlkey=xbjm18zwep0ozrsh9psxqlykd&st=cq83nox4&dl=0" 
                               class="btn" target="_blank">
                                📦 Download My Database Project (ZIP)
                            </a>
                            <p><em>Includes all my database schemas, Kotlin analytics code, and comprehensive SQL implementations</em></p>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>
</body>
</html>
